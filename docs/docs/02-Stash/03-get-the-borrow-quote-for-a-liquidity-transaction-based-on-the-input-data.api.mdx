---
id: borrow-quote-api
title: "Get the borrow quote for a liquidity transaction based on the input data"
description: "This endpoint calculates the borrow quote for a liquidity transaction, including the borrow cost, required input/output, and duration."
sidebar_label: "Borrow Quote API"
hide_title: true
hide_table_of_contents: true
api: eJzNV21v2zYQ/isEP6UAE1t+aRN9c9y0CDagWdMBA7JgOEtniy1FKiTlxDP034ejJEexlXbzMGD+YNPS8fjc3XMv3PIUXWJl4aXRPOZzUEmpwKNjPkO2MNaaR/ZQGo9M6kSVqdSr9nFinBfM4kMpLaZM6qL0A1P6ovSCgU5ZWlogxWdc8AIs5OjROh7fbbmGHHnMZ6XPjJV/BjEuuCQQGUKKlgvequaxtyWKPay3HlzGZjfX7BtuuOAuyTAHHm+53xSk3Hkr9YrTviWUyvOYQyF/wg2vKrHd12ZKmyCbz65vWJKB1Oz6PTvBs9WZYCiLaDqNozctwgJ8xkVrRBDvgfs6IHyCvFD0qFF9PpmO+1DdWONNYhSjo1o4s8Qa514BUzQ7jsSTwwZ0H5JfAgdArYyVPssZqWgBXT1B4q91iHtYfwokeAVhOPw4dB3lvKruayXo/KVJN7QzMdqj9rSEolAyCbwafHVkwrZzRGFNgdZLdEE2N2W966XN9XNmlsybb6gdWxrLHjOZZOwRGVhkzfmdpKhz5UTqkEAuB6XQeZaiNrnUAc+bFzZNLs6H08ko4mLP8IqkElU6ucY/llKpQ4ALYxSCZhYLiw51ACKXbGNKlsEaWatA+g3zhpEW5jPpaphdHEtQDncQGsWEQaN/NPbb4eEJyII8koPHlDViTKZ9/O61Ljj1UG94zCBNLTrHTjJ8eumw4dN8OAKYjS8Wo9H4w9X5++FsiNP55MPoHc7eXwzPx/N307fzZHRwqOA13lBknojmHRretTw48PuzE1rQ9zvNZvEVE2JjtV+fLruEaIjCCtgoA+kB/wMSVxjtakqOhsNDz9yWSYLOLUulNsyitxLXmL5g3u+ciu2ReZCC73laq58b5w+Tk4xuinzvSyUfSplKv7kxRvVKWCxgk6P281BF4y1HXeY8vovEZBS9jUQ0FNH4naAKKSbjKJqIaDgU5+PxWERRNJ1GUSSii4tx+JoEudF9J9BS+3GHCVJ7XIXu8nRKJ52uwVJhorbEr3yGFsucCz6zC+ltWH4qvMylo+WNUZtV6FSX4Ch/ZmtQoJOM1h+1cdLRuzEX/BYLoySEv531pLMGh+2/+64rPmMiC9kEsMdjNXFCwf2uRFMpD0X2eN+JcCee+9E7iFUv4n18B2h6UuclmsDCvgSrBJ/0pcUlpLv8SkukQif1GpRsZhJmLMulc1Qcn8eQf5cpuChXvb5Ha439sctrsVesnPZZea09Wg2KObRrtCxo+N8aQeUdViGpfm5ZRJI5+sykPOYr9GEq9BmP+WDHtEEYpgbb8FMN2mlmsG1X1YAOG2zpuxq0baz2ST1allZRffe+cPFgAIU8c4WltLdni1Kq9FH6zG1WOZwlJh9wGiMcJqUlhLR/FmZEmkx5fHfffX1Ljqx91xXauamZLvfH2Gbu+e2UxE+/hAZCDqL4fH4eYK7aDvc8kHSHg/1ZoGnYu/b8otXWnfWftMqKUC9NO0VBQnSiKEofui4XnDxcc5GkC+N8DoFgjYEf0R/eGmhkAraLL/MWtIOECMoW4DBlph6V6lSl5D/je620M9j9hzeUJogen/ygUFTgKlGTadvw9O65IlLWNUUwbhed0TvurJt5N25+a8reC56FjnrHt1vyw69WVRU9fijREhHvBV+DlbAg999teSodrdNd5F910cnnxuA37O/eanptb1mtydo1qLLhAV232ltPuCgcg+wHN5sjAO1cfjSmI+84R2ANbytq+k2VoAjXr+Y1stMvNV3arQeFnaysd8ySBAv/Xdlu5f149YULvmiuTLlJaYuFR2rV8FijNMFRodKFZ1uuQK9KWJFsrZI+fwGosImz
sidebar_class_name: "get api-method"
custom_edit_url: null
---

import MethodEndpoint from "@theme/ApiExplorer/MethodEndpoint";
import ParamsDetails from "@theme/ParamsDetails";
import RequestSchema from "@theme/RequestSchema";
import StatusCodes from "@theme/StatusCodes";
import OperationTabs from "@theme/OperationTabs";
import TabItem from "@theme/TabItem";
import Heading from "@theme/Heading";

<Heading
  as={"h1"}
  className={"openapi__heading"}
  children={"Preview the estimated borrowing quote before requesting credit."}
></Heading>

<MethodEndpoint
  method={"get"}
  path={"liquidity/chain/{sourceChainId}/protocol/{protocol}/type/{type}/quote"}
  context={"endpoint"}
></MethodEndpoint>

## Borrow quote overview

A [borrow quote](/Resources/glossary#stash-borrow-quote) is the **preliminary estimated fee** a solver would incur to borrow credit from Sprinter Stash. It is returned off-chain via the Stash API and helps solvers determine if pursuing a fill is profitable.

Borrow quote includes expected gas, risk premiums, protocol fees, and capital access costs â€” but it is not a binding or reserved price. This can be based on input or output amount.

See the [Request a Credit Borrow Quote Estimate example payload](borrow-quote-api#example-borrow-quote-payload).

<Heading
  id={"request"}
  as={"h2"}
  className={"openapi-tabs__heading"}
  children={"Request"}
></Heading>

<ParamsDetails
  parameters={[
    {
      name: "Authorization",
      in: "header",
      required: true,
      description: "Stash API key",
      schema: { type: "string" },
    },
    {
      description:
        "destChainID must use capid format from our configuration <br />-eip155:8453(Base),<br />-eip155:10 (Optimism),<br />-eip155:42161 (Arbitrum)",
      in: "path",
      name: "chain",
      required: true,
      schema: { type: "string", example: "eip155:8453" },
    },
    {
      description: "Protocol name - across, mayan",
      in: "path",
      name: "protocol",
      required: true,
      schema: { type: "string", example: "mayan" },
    },
    {
      description:
        "Quote algorithm type: <br /><br />  ExactInput - Request will consider the amount as (input amount - borrow costs) <br /><br /> ExactOutput - Request will consider the amount as (output amount + borrow costs)  ",
      in: "path",
      name: "type",
      required: true,
      schema: { type: "string", example: "ExactOutput" },
    },
  ]}
></ParamsDetails>

<RequestSchema
  title={"Body"}
  body={{
    content: {
      "application/json": {
        schema: {
          properties: {
            amount: {
              description:
                "amount of tokens for which we are requesting borrow quote (in the smallest denomination)",
              example: "49805421",
              type: "string",
            },
            exclusive_fill: {
              description: "boolean representing if you have exclusivity to fill this quote",
              example: false,
              type: "boolean",
            },
            network: {
              description: "caip formated network id",
              example: "eip155:1",
              type: "string",
            },
            token: {
              description: "token address (hex)",
              example: "0xC02aaA39b223FE8D0A0e5C4F27eAD9083C756Cc2",
              type: "string",
              format: "hex",
            },
          },
          required: ["amount", "exclusive_fill", "network", "token"],
          type: "object",
        },
      },
    },
    description: "Borrow quote request payload",
    required: true,
  }}
></RequestSchema>

<StatusCodes
  id={undefined}
  label={undefined}
  responses={{
    "200": {
      description: 'Successfully retrieved borrow quote".',
      content: {
        "application/json": {
          schema: {
            properties: {
              data: {
                properties: {
                  borrowCost: { type: "string" },
                  duration: { type: "string" },
                  liquidityPool: { type: "string" },
                  repaymentChain: {
                    enum: [1, 42161, 10, 137, 8453, 43114, 100, 8333, 11155111, 1993, 19934, 84532],
                    format: "int32",
                    type: "integer",
                    "x-enum-varnames": [
                      "Ethereum",
                      "Arbitrum",
                      "Optimism",
                      "Polygon",
                      "Base",
                      "Avalanche",
                      "Gnosis",
                      "B3",
                      "Sepolia",
                      "B3Sepolia",
                      "B4Sepolia",
                      "BaseSepolia",
                    ],
                  },
                  repaymentRecipient: { type: "string" },
                  requiredInput: { type: "string" },
                  requiredOutput: { type: "string" },
                },
                required: [
                  "borrowCost",
                  "duration",
                  "liquidityPool",
                  "repaymentChain",
                  "repaymentRecipient",
                  "requiredInput",
                  "requiredOutput",
                ],
                type: "object",
              },
            },
            required: ["data"],
            type: "object",
          },
        },
      },
    },
    "400": {
      description: 'Bad request due to invalid input or missing parameters".',
      content: {
        "application/json": {
          schema: {
            properties: {
              debug: { type: "string" },
              error: { type: "string" },
            },
            required: ["error"],
            type: "object",
          },
        },
      },
    },
    "500": {
      description: 'Internal server error".',
      content: {
        "application/json": {
          schema: {
            properties: {
              debug: { type: "string" },
              error: { type: "string" },
            },
            required: ["error"],
            type: "object",
          },
        },
      },
    },
  }}
></StatusCodes>

## Example Borrow Quote payload

```ts title="Request Borrow Quote Estimate with type ExactInput (input amount - borrow costs)"
const baseUrl = "https://api.sprinter.tech";
const sourceChainId = "eip155:8453"; // eip155:8453(Base), eip155:10 (Optimism), eip155:42161 (Arbitrum). ChainId must use capid format from our configuration
const protocol = "across"; // "across" or "mayan"
const type = "ExactInput"; // Request will consider the amount as (input amount - borrow costs)
const amount = 10000000; // This is the ExactInput eg 1 USDC (6 decimals)
const response = await fetch(
  `${baseUrl}/liquidity/chain/${sourceChainId}/protocol/${protocol}/type/${type}/quote`,
  {
    method: "GET",
    headers: {
      "X-Auth-Token": "<your_api_key>",
    },
    body: {
      amount: amount,
      token: "destination_token_address", // Token address
      network: "eip155:10", // Destination_Chain_ID
    },
  },
);

const borrowQuote = await response.json();
console.log("Expected amount:", borrowQuote.expectedOutput);
console.log("Borrow Cost:", borrowQuote.borrowCost);
```

```ts title="Request Final Borrow Quote Estimate with type ExactOutput (output amount + borrow costs)"
const baseUrl = "https://api.sprinter.tech";
const sourceChainId = "eip155:8453"; // eip155:8453(Base), eip155:10 (Optimism), eip155:42161 (Arbitrum). ChainId must use capid format from our configuration
const protocol = "across"; // "across" or "mayan"
const type = "ExactOutput"; // Request will consider the amount as (output amount + borrow costs)
const amount = 10000000; // This is the ExactInput eg 1 USDC (6 decimals)
const response = await fetch(
  `${baseUrl}/liquidity/chain/${sourceChainId}/protocol/${protocol}/type/${type}/quote`,
  {
    method: "GET",
    headers: {
      "X-Auth-Token": "<your_api_key>",
    },
    body: {
      amount: amount,
      token: "destination_token_address", // Token address
      network: "eip155:10", // Destination_Chiain_ID
    },
  },
);

const borrowQuote = await response.json();

console.log("Expected Input:", borrowQuote.requiredInput);
console.log("Borrow Cost:", borrowQuote.borrowCost);
```
